<div class="wrapper">
  <div class="container col-12 col-sm-7 col-md-7 col-lg-5 col-xl-3 ">
    <mat-card class="login-form ">
      <h2>Login with your account</h2>
      <form (ngSubmit)="onSubmit()" [formGroup]="loginForm">
        <mat-form-field class="mat-form-filed">
          <input matInput placeholder="Username" formControlName="username" />
          <mat-error>
            <span *ngIf="loginForm.get('username').errors?.required"
              >Please enter username</span
            >
          </mat-error>
        </mat-form-field>
        <mat-form-field class="mat-form-filed">
          <input
            matInput
            placeholder="Password"
            formControlName="password"
            type="password"
            [type]="hide ? 'password' : 'text'"
          />
          <i class="material-icons" matSuffix (click)="hide = !hide">
            {{ hide ? 'visibility' : 'visibility_off' }}
          </i>
          <mat-error>
            <span *ngIf="loginForm.get('password').errors?.required"
              >Please enter password</span
            >
            <span *ngIf="loginForm.get('password').errors?.minlength"
              >Password with more than 8 characters
            </span>
          </mat-error>
        </mat-form-field>
        <mat-error>
          <span *ngIf="errorMessage$ | async"
            >{{ errorMessage$ | async }}
          </span>
        </mat-error>

        <div class="button-row">
          <button mat-raised-button id="btn-login" type="submit">
            Login
            <mat-spinner
              [strokeWidth]="2"
              [diameter]="20"
              *ngIf="isLoadingResults$ | async"
            ></mat-spinner>
          </button>
        </div>
      </form>
    </mat-card>
  </div>
</div>
